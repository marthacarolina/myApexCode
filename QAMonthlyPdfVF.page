<apex:page controller="QAMonthlyController" renderAs="PDF" showHeader="false" action="{!MonthlyQA}">
    <apex:stylesheet value="{!URLFOR($Resource.advancedpdfresource, 'QAReportPDF.css')}"/>
    <div class="header" align="center"><h3 style="font-color:#0f846d; font-family: Tahoma, Geneva, sans-serif;">QA Report for {!month}</h3></div>
    <table width="100%">
        <tr width="100%">
            <td width="50%" align="left">
                <h4>Total Participants {!totalParticipants}</h4>
                <h4>Total Activity Days {!totalMAD}</h4>
                <h4>New Participants {!totNewParticipants}</h4>
                <h4>Participants attending more than one adventure {!serialParticipants}</h4>
            </td>
            <td width="50%" align="right">
                <apex:image value="{!URLFOR($Resource.advancedpdfresource, 'logo.png')}"/>
            </td>
        </tr>
    </table>
    <hr />
    <apex:repeat value="{!participants}" var="participant" id="theParticipants">
        <hr class="list" />
        <table width="100%">
            <tr width="100%" class="member">
                <td width ="40%" >
                    <apex:outputText value="Participant: {!participant.Name}" /><apex:outputText value="{!IF(Participant.firstTime,"   NEW","")}" style="font-color:green; align:right;" />
                </td>
                <td width = "30%">
                    <apex:outputText value="Total Adventures: {!participant.totCamp}" />
                </td>
                <td width = "30%">
                    <apex:outputText value="Total Activity Days: {!participant.totActDays}" />
                </td>
            </tr>
        </table>
        <hr class="list" />
        <apex:dataTable value="{!participant.adventures}" var="c" id="theTable" headerClass="tablehead"
                        rowClasses="odd,even" style="font-size: 100%; "
                        columnsWidth="300px, 100px, 100px">
            <apex:column >
                <apex:outputText value="Adventure: {!c.Name}"/>
            </apex:column>
            <apex:column >
                <apex:outputText value="Date: {!c.sdate}"/>
            </apex:column>
            <apex:column >
                <apex:outputText value="Activity Days: {!c.ActivityDays}"/>
            </apex:column>
        </apex:dataTable>
    </apex:repeat>
    <hr />

    <div class="footer" style="font-size:60%;">
        <table width="100%">
            <tr width = "100%">
                <td width="33%">
                    <apex:outputText value="Prepared by: {!$User.FirstName} {!$User.LastName}" />
                </td>
                <td width="33%" align="center">
                    <span>Page </span><span class="pagenumber"></span><span>of </span>
                    <span class="pagecount"></span>
                </td>
                <td width="33%" align="right">
                    <apex:outputField value="{!forDate.Effective_Date__c}"/>
                </td>
            </tr>
        </table>
    </div>

</apex:page>
